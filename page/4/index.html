<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>mt's blog | 学习记录</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">mt's blog</h1><a id="logo" href="/.">mt's blog</a><p class="description">学习记录</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h2 class="post-title"><a href="/2017/09/05/seq实战/一个MeDIP-seq实战/">一个MeDIP-seq实战</a></h2><div class="post-meta"><p><span class="date">2017-09-05</span><span><a href="/categories/seq实战/" class="category">seq实战</a></span></p></div><div class="post-content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://ftp-trace.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByStudy/sra/SRP/SRP018/SRP018845/SRR764931/SRR764931.sra</span><br><span class="line">wget ftp://ftp-trace.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByStudy/sra/SRP/SRP018/SRP018845/SRR764932/SRR764932.sra</span><br><span class="line">ls *sra |while read id; do fastq-dump --gzip --split-3 -A $id;done</span><br><span class="line">bowtie2 -p 6 -x /home/tingm/refdata/biotree_refdata/bowtie2_index/mm10/mm10 -U SRR764931.sra.fastq.gz | /home/tingm/software/samtools-1.3.1/samtools sort -O bam -o shGFP.bam</span><br><span class="line">bowtie2 -p 6 -x /home/tingm/refdata/biotree_refdata/bowtie2_index/mm10/mm10 -U SRR764932.sra.fastq.gz | /home/tingm/software/samtools-1.3.1/samtools sort -O bam -o shDnmt3L.bam</span><br><span class="line"></span><br><span class="line">/home/tingm/software/samtools-1.3.1/samtools index shDnmt3L.bam</span><br><span class="line">/home/tingm/software/samtools-1.3.1/samtools index shGFP.bam</span><br><span class="line"></span><br><span class="line">macs2 callpeak -t shDnmt3L.bam -m 10 30 -p 1e-5 -f BAM -g mm -n shDnmt3L 2&gt;shDnmt3L.masc2.log</span><br><span class="line">macs2 callpeak -t shGFP.bam -m 10 30 -p 1e-5 -f BAM -g mm -n shGFP 2&gt;shGFP.masc2.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">~/.local/bin/bamCoverage -b shDnmt3L.bam -o shDnmt3L.bw #-p 10 --normalizeUsingRPKM</span><br><span class="line">~/.local/bin/bamCoverage -b shGFP.bam -o shGFP.bw #-p 10 --normalizeUsingRPKM</span><br><span class="line"></span><br><span class="line">~/.local/bin/computeMatrix reference-point --referencePoint TSS -b 10000 -a 10000 -R /home/tingm/refdata/biotree_refdata/bowtie2_index/mm10_refSeq.bed -S shDnmt3L.bw --skipZeros -o matrix1_shDnmt3L_TSS.gz</span><br><span class="line">~/.local/bin/plotHeatmap -m matrix1_shDnmt3L_TSS.gz -out shDnmt3L.png</span><br><span class="line"></span><br><span class="line">~/.local/bin/computeMatrix reference-point --referencePoint TSS -b 10000 -a 10000 -R /home/tingm/refdata/biotree_refdata/bowtie2_index/mm10_refSeq.bed -S shGFP.bw --skipZeros -o matrix1_shGFP_TSS.gz</span><br><span class="line">~/.local/bin/plotHeatmap -m matrix1_shGFP_TSS.gz -out shGFP.png</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2017/09/05/seq实战/一个MeDIP-seq实战/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/09/02/seq实战/一个ChIP-seq实战/">一个ChIP-seq实战</a></h2><div class="post-meta"><p><span class="date">2017-09-02</span><span><a href="/categories/seq实战/" class="category">seq实战</a></span></p></div><div class="post-content"><p>###软件准备<br>已有sratoolkit,fastqc,bowtie2,samtools,htseq-count,bedtools,R,Rstudio<br>下载macs2,deeptools</p></div><p class="readmore"><a href="/2017/09/02/seq实战/一个ChIP-seq实战/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/28/seq实战/一个RNA-seq实战/">一个RNA-seq实战</a></h2><div class="post-meta"><p><span class="date">2017-08-28</span><span><a href="/categories/seq实战/" class="category">seq实战</a></span></p></div><div class="post-content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#! usr/bin/bash</span><br><span class="line">set -u</span><br><span class="line">set -e</span><br><span class="line">set -o pipefail</span><br><span class="line">hg19_ref=~/fastq/hisat2_index/hg19/genome</span><br><span class="line">for x in `seq 677 680`;do ascp -T -l 200M -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh --host=ftp-private.ncbi.nlm.nih.gov --user=anonftp --mode=recv /sra/sra-instant/reads/ByStudy/sra/SRP/SRP029/SRP029245/SRR957&quot;$x&quot;/SRR957&quot;$x&quot;.sra .;done</span><br><span class="line">##ls *sra |while read id; do fastq-dump --split-3 $id;done</span><br><span class="line">ls *sra |while read id; do fastq-dump --gzip --split-3 -A $id ;done</span><br><span class="line">## ls *fastq |xargs fastqc -t 10</span><br><span class="line">ls *.fastq.gz|while read id;do(hisat2 -t -p 5 -x $hg19_ref -U $id 2&gt;$&#123;id%%.*&#125;.map.log | /home/tingm/software/samtools-1.3.1/samtools view -Sb  - &gt;$&#123;id%%.*&#125;.bam);done</span><br><span class="line">ls *.bam|while read id;do /home/tingm/software/samtools-1.3.1/samtools sort -n -@ 5 $id -o $&#123;id%%.*&#125;.Nsorted.bam;done</span><br><span class="line">ls *.Nsorted.bam |while read id;do htseq-count -f bam -s no -i gene_name $id ~/fastq/refdata/Genecode/gencode.v26lift37.annotation.gff3 1&gt;$&#123;id%%.*&#125;.geneCounts 2&gt;$&#123;id%%.*&#125;.HTseq.log;done</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2017/08/28/seq实战/一个RNA-seq实战/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/23/转录组入门/转录组入门——8/">转录组入门——8</a></h2><div class="post-meta"><p><span class="date">2017-08-23</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><blockquote></div><p class="readmore"><a href="/2017/08/23/转录组入门/转录组入门——8/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/21/转录组入门/转录组入门——7/">转录组入门——7</a></h2><div class="post-meta"><p><span class="date">2017-08-21</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">.libPaths(&quot;/home/tingm/R/x86_64-pc-linux-gnu-library/3.2&quot;)</span><br><span class="line">  library(limma)</span><br><span class="line">  library(edgeR)</span><br><span class="line">  library(DESeq2)</span><br><span class="line">    #change</span><br><span class="line">    path&lt;-&quot;/home/tingm/fastq/mus_result_count/&quot;</span><br><span class="line">    #change</span><br><span class="line">      samples&lt;-read.table(&quot;samples.list.txt&quot;,header=F,sep=&quot;\t&quot;)</span><br><span class="line">      samples&lt;-samples[,1]</span><br><span class="line">      #change</span><br><span class="line">      data.raw&lt;-read.table(&quot;Mus_SRR3589959.sgeneCounts&quot;,header=F,sep=&quot;\t&quot;,col.names = c(&quot;gene_id&quot;,&quot;Mus_SRR3589959.sgeneCounts&quot;))</span><br><span class="line">      for(sample in samples)</span><br><span class="line">      &#123;</span><br><span class="line">        print(sample)</span><br><span class="line">        file&lt;-paste(path,sample,sep=&quot;&quot;)</span><br><span class="line">        data.new&lt;-read.table(file,header=F,sep=&quot;\t&quot;,col.names = c(&quot;gene_id&quot;,sample))</span><br><span class="line">        data.raw&lt;-merge(data.new,data.raw,by=&quot;gene_id&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">     data.raw&lt;-data.raw[-1:-5,]</span><br><span class="line">        #change</span><br><span class="line">     names(data.raw) &lt;- c(&quot;gene_id&quot;,&quot;Akap95_2&quot;,&quot;control_2&quot;,&quot;Akap95_1&quot;,&quot;control_1&quot;)</span><br><span class="line">     write.table(data.raw,&quot;count.matix.csv&quot;,row.names=F,quote=F)</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2017/08/21/转录组入门/转录组入门——7/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/15/转录组入门/转录组入门——6/">转录组入门——6</a></h2><div class="post-meta"><p><span class="date">2017-08-15</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><h5 id="实现reads计数的软件教程"><a href="#实现reads计数的软件教程" class="headerlink" title="实现reads计数的软件教程"></a>实现reads计数的软件教程</h5><blockquote></div><p class="readmore"><a href="/2017/08/15/转录组入门/转录组入门——6/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/14/转录组入门/转录组入门——5/">转录组入门——5</a></h2><div class="post-meta"><p><span class="date">2017-08-14</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><h5 id="比对软件简介"><a href="#比对软件简介" class="headerlink" title="比对软件简介"></a>比对软件简介</h5><blockquote></div><p class="readmore"><a href="/2017/08/14/转录组入门/转录组入门——5/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/11/转录组入门/转录组入门——4/">转录组入门——4</a></h2><div class="post-meta"><p><span class="date">2017-08-11</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><h4 id="参考基因组-hg19-下载"><a href="#参考基因组-hg19-下载" class="headerlink" title="参考基因组(hg19)下载"></a>参考基因组(hg19)下载</h4><blockquote></div><p class="readmore"><a href="/2017/08/11/转录组入门/转录组入门——4/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/10/转录组入门/转录组入门——3/">转录组入门——3</a></h2><div class="post-meta"><p><span class="date">2017-08-10</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><h5 id="SRA-Toolkit-软件"><a href="#SRA-Toolkit-软件" class="headerlink" title="SRA Toolkit 软件"></a>SRA Toolkit 软件</h5><p><a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/sra.cgi?view=toolkit_doc" target="_blank" rel="noopener">官方网址</a></p></div><p class="readmore"><a href="/2017/08/10/转录组入门/转录组入门——3/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2017/08/09/转录组入门/转录组入门——2/">转录组入门——2</a></h2><div class="post-meta"><p><span class="date">2017-08-09</span><span><a href="/categories/转录组入门/" class="category">转录组入门</a></span></p></div><div class="post-content"><h5 id="CentOS-release-6-5-Final"><a href="#CentOS-release-6-5-Final" class="headerlink" title="CentOS release 6.5 (Final)"></a>CentOS release 6.5 (Final)</h5><h5 id="GEO-SRA数据库的数据存放形式参考"><a href="#GEO-SRA数据库的数据存放形式参考" class="headerlink" title="GEO/SRA数据库的数据存放形式参考"></a>GEO/SRA数据库的数据存放形式参考</h5><p><a href="http://www.biotrainee.com/forum.php?mod=viewthread&amp;tid=1884&amp;fromuid=1685" target="_blank" rel="noopener">青山屋主 转录组入门(2)-作业</a><br><a href="http://www.biotrainee.com/forum.php?mod=viewthread&amp;tid=1829&amp;fromuid=1685" target="_blank" rel="noopener">hoptop 转录组入门（二）读文献下数据</a></p></div><p class="readmore"><a href="/2017/08/09/转录组入门/转录组入门——2/">阅读更多</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/3/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">下一页</a></nav></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/Linux/giremi及gatk下载/">giremi, gatk下载使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/16/Linux/samtools命令/">samtools</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/15/Linux/Linux_Tips/">Linux Tips记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/11/Linux/安装picard、FastViromeExplorer使用/">安装picard、FastViromeExplorer使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/11/Linux/linux路径问题/">Linux路径问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/10/数据分析实战/L9.模型优化与融合/">L9.模型优化与融合</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/09/数据分析实战/L8.机器学习进阶/">L8.机器学习进阶</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/09/练习/Test1/">Test1</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/03/数据分析实战/实战7-QQ答疑/">实战7-QQ答疑</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/数据分析实战/L7.机器学习初识/">L7.机器学习初识</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Beginning-Perl-free-学习笔记/">Beginning Perl (free)学习笔记</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux基础/">Linux基础</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Test/">Test</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/seq实战/">seq实战</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据科学实训营/">数据科学实训营</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/转录组入门/">转录组入门</a><span class="category-list-count">8</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/bioinformatics/" style="font-size: 15px;">bioinformatics</a> <a href="/tags/perl/" style="font-size: 15px;">perl</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/samtools/" style="font-size: 15px;">samtools</a> <a href="/tags/giremi/" style="font-size: 15px;">giremi</a> <a href="/tags/gatk/" style="font-size: 15px;">gatk</a> <a href="/tags/picard/" style="font-size: 15px;">picard</a> <a href="/tags/FastViromeExplorer/" style="font-size: 15px;">FastViromeExplorer</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/python/" style="font-size: 15px;">python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">mt.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3d768ac3c655ab53fbe8a4ac31a4528a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/totop.js?v=2.0.1" async></script></body></html>